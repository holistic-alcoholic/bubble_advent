<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–æ–≤—ã–π –≥–æ–¥ –≤ –ß—É–º–Ω–æ–º —Ñ–æ—Ä—Ç–µ</title>
    <style>
        body {
            font-family: Georgia;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            min-height: 100vh;
            margin: 0 auto;
            background-color: #1f1e1c;
            color: white;
            text-align: center;
            max-width: 600px;
        }
        
        .game-container {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            border-radius: 5px;
            position: relative;
        }
        
        .game-field {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 0;
            height: 500px;
            aspect-ratio: 1 / 1;
            background-color: #f5f5f5;
            border: 7px solid #555;
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }
        
        .cell {
            border: 0.5px solid #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
        }
        
        .cell:hover {
            border: 1px solid #ff6600;
            cursor: pointer;
        }
        
        .s {
            background-image: url('assets/chibi_s.png');
        }

        .oleg {
            background-image: url('assets/chibi_o.png');
        }

        .ball {
            width: 65% !important;
            height: 65% !important;
        }

        .bird {
            background-image: url('assets/chibi_bird.png');
        }

        .rug {
            position: absolute;
            z-index: 1;
            background-image: url('assets/rug.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            left: 49.6%;
            width: 25%;
            height: 37.5%;
            top: 37.1%;
            border: 2px solid #a6ccff;
        }

        .object {
            width: 95%;
            height: 95%;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        button {
            padding: 10px 20px;
            background-color: #ff6600;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #ff8533;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background-color: #2a2a2a;
            width: 90%;
            max-width: 700px;
            border-radius: 15px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .close-btn {
            position: absolute;
            right: 20px;
            top: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .modal-body {
            padding: 30px 50px 40px 50px;
            flex: 1;
            line-height: 1.5;
            padding-bottom: 40px;
        }

        .dialogue {
            display: flex;
            gap: 50px;
        }
        
        .speaker-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .speaker-large {
            width: 170px;
            height: 250px;
            border-radius: 10px;
            margin-bottom: 10px;
            background-size: contain;
            background-repeat: no-repeat;
        }
        
        .speaker-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #ff6600;
            height: fit-content;
        }
        
        .dialogue-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            gap: 15px;
        }

        .dialogue-info {
            text-align: left;
            align-items: top;
            color: white;
            position: relative;
            margin-bottom: 20px;
        }

        .no-avatar .dialogue {
            gap: 0px;
        }

        .no-avatar .speaker-name {
            height: 0px;
        }
        
        .dialogue-question {
            background-color: #333;
            padding: 0 20px;
            border-radius: 10px;
            text-align: left;
            align-items: top;
            color: white;
            position: relative;
        }

        .dialogue-question::before {
            content: '';
            position: absolute;
            left: -13px;
            top: 20px;
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-right: 13px solid #333;
        }
        
        .dialogue-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .dialogue-btn {
            padding: 10px 20px;
            background-color: #444;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            max-width: 100%;
            text-align: left;
        }
        
        .dialogue-btn:hover {
            background-color: #555;
        }

        .door {
            position: absolute;
            height: 4px;
            width: 15%;
            top: 0;
            left: 8px;
            background-color: #f5f5f5;
            border: solid 2px #323232;
            cursor: pointer;
            transform: rotate(5deg);
            z-index: 20;
        }

        h4 {
            margin-top: 30px;
        }

        .inventory {
            background-color: #aaa;
            border: 2px solid #eee;
            padding: 10px;
            border-radius: 5px;
            height: 45px;
            display: flex;
            width: fit-content;
            margin: auto;
        }

        .inventory-item {
            height: 95%;
            aspect-ratio: 1 / 1;
            background-size: contain;
            background-repeat: no-repeat;
        }

        .info {
            padding: 15px;
            background-color: #333;
        }

        footer {
            margin-top: 40px;
            font-size: 0.8em;
            color: #ddd;
            line-height: 0.9;
        }

        footer a {
            color: #ff6600;
        }
        
        @media (max-width: 600px) {
            .game-field {
                height: 90vw;
            }
            
            .modal-body {
                padding: 20px 25px;
                overflow: auto;
            }

            .dialogue {
                flex-direction: column;
                gap: 20px;
            }

            .dialogue-info {
                margin-bottom: 15px;
                padding-right: 10px;
            }
            
            .speaker-display {
                flex-direction: row;
                justify-content: flex-start;
                gap: 25px;
            }
            
            .speaker-large {
                width: 68px;
                height: 100px;
                border-radius: 5px;
                margin-bottom: 0;
            }

            .dialogue-container {
                margin-top: 0;
                gap: 10px;
            }

            .dialogue-question {
                margin-bottom: 0;
            }

            .dialogue-question::before {
                left: 20px;
                top: -13px;
                border-left: 10px solid transparent;
                border-bottom: 13px solid #333;
                border-right: 10px solid transparent;
                border-top: none;
            }

            .close-btn {
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>
    <h2>–ù–æ–≤—ã–π –≥–æ–¥ –≤ –ß—É–º–Ω–æ–º —Ñ–æ—Ä—Ç–µ</h2>
    
    <div class="info">
    –ò–≥—Ä–∞–π –∑–∞ –°–µ—Ä–µ–∂—É, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Å—Ç—Ä—è–ª –Ω–∞ –ù–æ–≤—ã–π –≥–æ–¥ –≤ –ø—Å–∏—Ö—É—à–∫–µ —Å–æ –∑–ª–æ–±–Ω–æ–π –ª–∏—á–Ω–æ—Å—Ç—å—é –≤ –≥–æ–ª–æ–≤–µ. –ú–æ–∂–µ—Ç, —É —Ç–µ–±—è –ø–æ–ª—É—á–∏—Ç—Å—è –≤—ã–±—Ä–∞—Ç—å—Å—è –Ω–∞—Ä—É–∂—É –ø–æ—Ä–∞–Ω—å—à–µ?<br><br>

    <em>–ß—Ç–æ–±—ã –ø–æ—Ö–æ–¥–∏—Ç—å –ø–æ –ø–æ–ª—é, –Ω–∞–∂–º–∏ –Ω–∞ –∫–ª–µ—Ç–∫—É, –≤ –∫–æ—Ç–æ—Ä—É—é —Ö–æ—á–µ—à—å –ø—Ä–∏–π—Ç–∏. –ß—Ç–æ–±—ã –ø–æ–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–º –∏–ª–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–º, –Ω–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ.</em>
    </div>
    
    <div class="game-container" id="gameContainer">
        <div class="game-field" id="gameField"></div>
    </div>

    <div id="inventory-screen">
    <h4>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h4>

    <div class="inventory" id="inventory"></div>
    </div>

    <!-- Cutscene Modal -->
    <div class="modal" id="cutsceneModal">
        <div class="modal-content" id="modalContent">
            <div class="modal-body">
                <div class="dialogue-info" id="dialogueInfo">
                    Text
                </div>
                <div class="dialogue" id="dialogue">
                    <div class="speaker-display">
                        <div class="speaker-large" id="modalSpeaker"></div>
                        <div class="speaker-name" id="speakerName">–ò–º—è</div>
                    </div>
                    <div class="dialogue-container">
                        <div class="dialogue-question" id="dialogueQuestion">
                            –î–∏–∞–ª–æ–≥
                        </div>
                        <div class="dialogue-options" id="dialogueOptions">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p><strong>–ö—Ä–µ–¥–∏—Ç—Å—ã</strong></p>
        <p>–ê—Ä—Ç—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π: <a href="https://t.me/un_titled000" target="_blank">untitled000</a></p>
        <p>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–≥—Ä—ã: <a href="https://t.me/holistic_alcoholic" target="_blank">holistic al</a></p>
        <p>–ü—Ä–æ—á–∏–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏: —Å–¥–µ–ª–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é Canva</p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const gameField = document.getElementById('gameField');
        const cutsceneModal = document.getElementById('cutsceneModal');
        const modalSpeaker = document.getElementById('modalSpeaker');
        const speakerName = document.getElementById('speakerName');
        const dialogueInfo = document.getElementById('dialogueInfo');
        const dialogueQuestion = document.getElementById('dialogueQuestion');
        const dialogueOptions = document.getElementById('dialogueOptions');
        const inventory = document.getElementById('inventory');
        
        let s = { id: 's', row: 0, col: 0 };
        let bird = { id: 'bird', row: 0, col: 0 };
        let oleg = { id: 'oleg', row: null, col: null };

        let door = null;

        let cells = [];
        let objects = [];

        let hasGarland = false;
        let hasBalls = [];

        let currentDialogue = null;

        let currentSceneInd = 0;

        let rowsCount;
        let colsCount;

        let eventRow = -1;
        let eventCol = -1;

        let birdAppeared = false;
        let olegAppeared = false;
        let recognizedOleg = false;
        let olegIsMoving = false;

        // dialogues

        const birdDialogues = [
            {
                speaker: '–ü—Ç–∏—Ü–∞',
                avatar: `url('assets/bird.png')`,
                dialogue: {
                    text: null,
                    question: '<p>–û—Ö, –Ω–µ—É–∂–µ–ª–∏ –ø—Ç–µ–Ω—á–∏–∫ –æ—Ç—Ä–∞—Å—Ç–∏–ª –∫–æ–≥–æ—Ç–∫–∏ –∏ —Ä–µ—à–∏–ª –ø–æ–±–æ—Ä–æ—Ç—å—Å—è –∑–∞ —Ç–µ–ª–æ? –ö–∞–∫–∞—è –ø—Ä–µ–ª–µ—Å—Ç—å. –ñ–∞–ª—å, —á—Ç–æ –Ω–∞–¥–æ–ª–≥–æ —Ç–µ–±—è –Ω–µ —Ö–≤–∞—Ç–∏—Ç... –ò–ª–∏ —Ç—ã –¥—É–º–∞–ª, —á—Ç–æ —è –ø–æ–∂–∞–ª–µ—é —Ç–µ–±—è –∏ –æ—Ç–ø—É—â—É? –ù–µ–µ–µ—Ç, –¥–æ—Ä–æ–≥–æ–π –º–æ–π. –¢—ã –±–æ–ª—å—à–µ –Ω–µ –≥–ª–∞–≤–Ω—ã–π –∑–¥–µ—Å—å.</p><p>–ù–æ —Ä–∞–∑–≤–µ —Ç–µ–±–µ –Ω–µ —Ö–æ—á–µ—Ç—Å—è —Å–¥–∞—Ç—å—Å—è? –ó–∞—á–µ–º  –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å, —Å–∏–¥–µ—Ç—å –≤–∑–∞–ø–µ—Ä—Ç–∏, –ø–æ–∫–∞ —Ç–µ–±—è –º—É—á–∞—é—Ç –∏ —Å—Ç–∞–≤—è—Ç –Ω–∞ —Ç–µ–±–µ –æ–ø—ã—Ç—ã? –¢—ã –∂–µ –∑–Ω–∞–µ—à—å, —Ç–æ–ª—å–∫–æ —è –º–æ–≥—É —Ç–µ–±—è –∑–∞—â–∏—Ç–∏—Ç—å. –¢–æ–ª—å–∫–æ —è —Å–º–æ–≥—É —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —ç—Ç–∏–º.</p>',
                    answers: [
                        { 
                            text: '–°–¥–∞—Ç—å—Å—è –ü—Ç–∏—Ü–µ –∏ –æ—Ç–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å', 
                            next: { 
                                text: '<p>–¢—ã —Å–¥–∞–µ—à—å—Å—è —É–≥–æ–≤–æ—Ä–∞–º –ü—Ç–∏—Ü—ã –∏ –æ—Ç–¥–∞–µ—à—å –µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—å. –õ—É—á—à–µ –ø–æ–ª–Ω–∞—è —á–µ—Ä–Ω–æ—Ç–∞ –∏ –±–µ—Å—Å–æ–∑–Ω–∞–Ω–∫–∞, —á–µ–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ—Å–æ–∑–Ω–∞–≤–∞—Ç—å, –∫—Ç–æ —Ç—ã —Ç–∞–∫–æ–π –∏ —á—Ç–æ —Å —Ç–æ–±–æ–π —Å–ª—É—á–∏–ª–æ—Å—å. –ü—ã—Ç–∞—Ç—å—Å—è —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å —Å —ç—Ç–∏–º –±–µ—Å—Å–º—ã—Å–ª–µ–Ω–Ω–æ. –ï—Å–ª–∏ –ø–æ–≤–µ–∑–µ—Ç, —Ç—ã —Ç–∞–∫ –∏ –ø—Ä–æ–∂–∏–≤–µ—à—å –Ω–∞ –∫—Ä–∞—é —Å–æ–∑–Ω–∞–Ω–∏—è, –Ω–µ –æ—â—É—â–∞—è –Ω–∏—á–µ–≥–æ, –∏ –¥–∞–∂–µ –Ω–µ –∑–∞–º–µ—Ç–∏—à—å –≤–∞—à–µ–π —Å–º–µ—Ä—Ç–∏...</p>', 
                                question: null,
                                answers: [],
                                callback: () => {
                                    endGame('bad_gave_up')
                                }
                            }
                        },
                        { 
                            text: '–ü–æ–±–æ—Ä–æ—Ç—å—Å—è –∑–∞ —Ç–µ–ª–æ', 
                            next: {
                                text: '<p>–¢—ã –æ—Ç–∫–∞–∑—ã–≤–∞–µ—à—å—Å—è —Å–ª—É—à–∞—Ç—å —Å–≤–æ—é –∑–ª–æ–±–Ω—É—é —Ç–µ–Ω—å, –æ—Ç–≤–æ—Ä–∞—á–∏–≤–∞–µ—à—å—Å—è –∏ —É—Å–∏–ª–µ–Ω–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—à—å –∂—É—Ç–∫—É—é —Ñ–∏–≥—É—Ä—É, –∏ —ç—Ç–æ... —É–¥–∞–µ—Ç—Å—è? –ù–µ—É–∂–µ–ª–∏ —Ç–∞–±–ª–µ—Ç–∫–∏ –¥–æ–∫—Ç–æ—Ä–∞ –Ω–∞—á–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å? –ù–æ –Ω–µ—Ç, –Ω–∞–æ–±–æ—Ä–æ—Ç, —ç—Ç–∞ –Ω–æ–≤–∞—è –º–µ–¥—Å–µ—Å—Ç—Ä–∞ —Å–µ–≥–æ–¥–Ω—è –∑–∞–±—ã–ª–∞ —Ç–µ–±–µ –∏—Ö –¥–∞—Ç—å... –û—á–µ–Ω—å —Å—Ç—Ä–∞–Ω–Ω–æ. –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ! –í–µ–¥—å —Ç—ã –¥–∞–≤–Ω–æ –Ω–µ —á—É–≤—Å—Ç–≤–æ–≤–∞–ª —Å–µ–±—è –Ω–∞—Å—Ç–æ–ª—å–∫–æ –≤ —Å–æ–∑–Ω–∞–Ω–∏–∏. –ù–∞—Å—Ç–æ–ª—å–∫–æ... —Å–∞–º–∏–º —Å–æ–±–æ–π.</p>',
                                question: null, 
                                answers: [],
                                callback: () => {
                                    document.getElementById('bird').remove();
                                    bird.row = null;
                                    bird.col = null;

                                    // –ø–æ–∫–∞–∑–∞—Ç—å –¥–≤–µ—Ä—å 
                                    document.getElementById('gameContainer').appendChild(door);
                                }
                            }
                        }
                    ],
                    callback: null
                }
            },
            {
                speaker: '–ü—Ç–∏—Ü–∞',
                avatar: `url('assets/bird.png')`,
                dialogue: {
                    text: null,
                    question: '<p>–•–∞-—Ö–∞-—Ö–∞, –æ–±–º–∞–Ω—É–ª! –ù–∏–∫—É–¥–∞ —è –Ω–µ –ø—É—â—É —Ç–µ–±—è, —Å–æ–ª–Ω—Ü–µ –º–æ–µ, –º–æ–∏ –¥–µ–ª–∞ –∑–¥–µ—Å—å –µ—â–µ –Ω–µ –æ–∫–æ–Ω—á–µ–Ω—ã... –ù—É-–∫–∞, –¥–∞–≤–∞–π, –≤–ø—É—Å–∫–∞–π –º–µ–Ω—è –æ–±—Ä–∞—Ç–Ω–æ. –¢—ã –∂–µ –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ —Ç–µ–±–µ –≤–∑–∞–ø—Ä–∞–≤–¥—É —É–¥–∞–ª–æ—Å—å –æ—Ç–æ–±—Ä–∞—Ç—å —É –º–µ–Ω—è –∫–æ–Ω—Ç—Ä–æ–ª—å?</p>',
                    answers: [
                        { 
                            text: '–°–¥–∞—Ç—å—Å—è –ü—Ç–∏—Ü–µ ‚Äî –º–æ—Ä–∞–ª—å–Ω—ã—Ö —Å–∏–ª —Å–æ–ø—Ä–æ—Ç–∏–≤–ª—è—Ç—å—Å—è —É —Ç–µ–±—è –±–æ–ª—å—à–µ –Ω–µ—Ç', 
                            next: { 
                                text: '<p>–¢—ã –Ω–µ —É—Å–ø–µ–≤–∞–µ—à—å –∏ –º–æ—Ä–≥–Ω—É—Ç—å, –∫–∞–∫ —Ç–µ–±—è –ø–æ–≥–ª–æ—â–∞–µ—Ç –≥–ª—É–±–æ–∫–∞—è, —á–µ—Ä–Ω–∏–ª—å–Ω–∞—è —Ç–µ–º–Ω–æ—Ç–∞. –ü—Ç–∏—Ü–∞ —Å–Ω–æ–≤–∞ —É —Ä—É–ª—è ‚Äî –∏ —Ç—ã –Ω–µ –º–æ–∂–µ—à—å –Ω–∏—á–µ–≥–æ —Å —ç—Ç–∏–º –ø–æ–¥–µ–ª–∞—Ç—å...</p>', 
                                question: null,
                                answers: [],
                                callback: () => {
                                    endGame('bad_gave_up')
                                }
                            }
                        },
                        {
                            condition: 'garland',
                            text: '–û—Ç–ø–∏–∑–¥–∏—Ç—å –ü—Ç–∏—Ü—É –≥–∏—Ä–ª—è–Ω–¥–æ–π', 
                            next: {
                                text: '<p>–¢—ã —Å–æ–±–∏—Ä–∞–µ—à—å—Å—è —Å —Å–∏–ª–∞–º–∏ –∏... –∞ –∑–Ω–∞–µ—Ç–µ —á—Ç–æ? –ö–∞–∫ –∂–µ —Ç–µ–±—è –¥–æ—Å—Ç–∞–ª —ç—Ç–æ—Ç –ø–µ—Ä–Ω–∞—Ç—ã–π –º–æ–Ω—Å—Ç—Ä. –ù–∞—Ö–µ—Ä –ø–∞—Ü–∏—Ñ–∏–∑–º!</p><p>–£ —Ç–µ–±—è –µ—Å—Ç—å –≥–∏—Ä–ª—è–Ω–¥–∞, –∏ —Ç—ã –Ω–µ –±–æ–∏—à—å—Å—è –ø—Ä–∏–º–µ–Ω–∏—Ç—å –µ–µ –≤ –¥–µ–ª–µ.</p>',
                                question: '<p>–ê–π! –û–π! –¢—ã —á–µ–≥–æ –¥–µ–ª–∞–µ—à—å? –¢—ã –æ—Ö—Ä–µ–Ω–µ–ª –≤–æ–æ–±—â–µ? –î–∞ —è –∂–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏—è! –ú–µ–Ω—è —Ç–∞–∫ –Ω–µ–ª—å–∑—è! –î–∞ —Ç—ã... –•–æ—Ä–æ—à–æ! –í—Å–µ!! –Ø —Å–≤–∞–ª–∏–≤–∞—é, –ø–æ–Ω—è–ª? –ù–µ –æ—á–µ–Ω—å-—Ç–æ –∏ —Ö–æ—Ç–µ–ª–æ—Å—å!!!</p>', 
                                answers: [],
                                callback: () => {
                                    document.getElementById('bird').remove();
                                    bird.row = null;
                                    bird.col = null;
                                }
                            }
                        },
                        {
                            condition: 'ball',
                            text: '–ë—Ä–æ—Å–∏—Ç—å –≤ –ü—Ç–∏—Ü—É –µ–ª–æ—á–Ω—ã–º —à–∞—Ä–æ–º', 
                            next: {
                                text: '<p>–¢—ã —Å–æ–±–∏—Ä–∞–µ—à—å—Å—è —Å —Å–∏–ª–∞–º–∏ –∏... –∞ –∑–Ω–∞–µ—Ç–µ —á—Ç–æ? –ö–∞–∫ –∂–µ —Ç–µ–±—è –¥–æ—Å—Ç–∞–ª —ç—Ç–æ—Ç –ø–µ—Ä–Ω–∞—Ç—ã–π –º–æ–Ω—Å—Ç—Ä. –ù–∞—Ö–µ—Ä –ø–∞—Ü–∏—Ñ–∏–∑–º! –°–µ–π—á–∞—Å –∫–∞–∞–∞–∫ –∑–∞—Ä—è–¥–∏—à—å –µ–º—É —à–∞—Ä–∏–∫–æ–º –ø—Ä—è–º–æ –≤ –≥–æ–ª–æ–≤—É... –ë—É–¥–µ—Ç –∑–Ω–∞—Ç—å, –∫—É–¥–∞ –ø—Ç–∏—Ü–∞–º –ª–µ—Ç–µ—Ç—å –∑–∏–º–æ–≤–∞—Ç—å.</p>',
                                question: '<p>–ê–π! –û–π! –¢—ã —á–µ–≥–æ –¥–µ–ª–∞–µ—à—å? –¢—ã –æ—Ö—Ä–µ–Ω–µ–ª –≤–æ–æ–±—â–µ? –î–∞ —è –∂–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏—è! –ú–µ–Ω—è —Ç–∞–∫ –Ω–µ–ª—å–∑—è! –î–∞ —Ç—ã... –•–æ—Ä–æ—à–æ! –í—Å–µ!! –Ø —Å–≤–∞–ª–∏–≤–∞—é, –ø–æ–Ω—è–ª? –ù–µ –æ—á–µ–Ω—å-—Ç–æ –∏ —Ö–æ—Ç–µ–ª–æ—Å—å!!!</p>', 
                                answers: [],
                                callback: () => {
                                    let ballID = hasBalls.pop();
                                    document.getElementById(ballID + 'item').remove();

                                    document.getElementById('bird').remove();
                                    bird.row = null;
                                    bird.col = null;
                                }
                            }
                        }
                    ],
                    callback: null
                }
            }
        ]

        const birdAppearance = {
            speaker: '–ü—Ç–∏—Ü–∞',
            avatar: `url('assets/bird.png')`,
            dialogue: {
                text: null,
                question: '<p>–ë–£!!</p><p>–ù–µ –æ–∂–∏–¥–∞–ª? –ù—É –∫–∞–∫ –∂–µ, –º–æ–π —Ö–æ—Ä–æ—à–∏–π, —Ä–∞–∑–≤–µ —Ç—ã –ø—Ä–∞–≤–¥–∞ –≤–µ—Ä–∏–ª, —á—Ç–æ –æ—Ç –º–µ–Ω—è —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ –º–æ–∂–Ω–æ –∏–∑–±–∞–≤–∏—Ç—å—Å—è?... –•–∞! –ö–∞–∫–æ–π –Ω–∞–∏–≤–Ω—ã–π –ø—Ç–µ–Ω—á–∏–∫.</p><p>–ù—É —á—Ç–æ —Ç—ã, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Å—è, –ø–æ–¥–æ–π–¥–∏ –±–ª–∏–∂–µ. –¢—ã –∂–µ —Ö–æ—á–µ—à—å –≤—ã–π—Ç–∏ –Ω–∞—Ä—É–∂—É, –ø—Ä–∞–≤–¥–∞? –ú–æ–∂–µ—Ç –±—ã—Ç—å, —è —Ç–µ–±–µ –ø–æ–º–æ–≥—É. –î–∞–∂–µ –Ω–∞ –≤—ã—Ö–æ–¥ —É–∫–∞–∂—É ‚Äî –≤–æ—Ç –∂–µ –æ–Ω! –í–∏–¥–∏—à—å, –∫–∞–∫–æ–π —è –¥–æ–±—Ä—ã–π?</p>',
                answers: [],
                callback: null
            }
        }

        const olegAppearance = {
            speaker: '–î–µ–¥ –ú–æ—Ä–æ–∑',
            avatar: `url('assets/santa.png')`,
            dialogue: {
                text: '<p>–î–≤–µ—Ä—å –≤ —É–≥–ª—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –∏ –≤ –∫–æ–º–Ω–∞—Ç—É –∑–∞—Ö–æ–¥–∏—Ç... —Å–µ—Ä—å–µ–∑–Ω–æ? –î–µ–¥ –ú–æ—Ä–æ–∑?! –ü–æ–∫–∞ —Ç—ã —Å–∏–¥–µ–ª-—Å—Ç—Ä–∞–¥–∞–ª –≤ —Å–≤–æ–µ–π –ø–∞–ª–∞—Ç–µ, —ç—Ç–∏... –æ—Å–æ–±–æ –æ–¥–∞—Ä–µ–Ω–Ω—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –±–æ–ª—å–Ω–∏—Ü—ã —É—Å—Ç—Ä–æ–∏–ª–∏ —Å–µ–±–µ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ù–æ–≤—ã–π –≥–æ–¥?!</p><p>–ù–æ —á—Ç–æ —Å –Ω–∏–º –¥–µ–ª–∞—Ç—å-—Ç–æ?</p>',
                question: '<p>üéµ All I want for Christmas is... üéµ</p>',
                answers: [
                    {
                        text: "–ó–∞–º–µ—Ä–µ—Ç—å –∏ –Ω–µ –ø–æ–¥–∞–≤–∞—Ç—å –≤–∏–¥—É",
                        next: {
                            text: '<p>–ò –ø—Ä–∞–≤–∏–ª—å–Ω–æ. –õ—É—á—à–µ, —á—Ç–æ–± —Ç–µ–±—è –Ω–∏–∫—Ç–æ –Ω–µ –∑–∞–º–µ—Ç–∏–ª, –º–∞–ª–æ –ª–∏ –∫—Ç–æ —ç—Ç–æ. –ò–∑-–∑–∞ –±–æ—Ä–æ–¥—ã –∏ –∫–æ—Å—Ç—é–º–∞ –≤–æ–æ–±—â–µ –Ω–µ —Ä–∞–∑–≥–ª—è–¥–µ—Ç—å.</p>',
                            question: null,
                            answers: [],
                            callback: moveOleg
                        }
                    },
                    {
                        condition: 'ball',
                        text: "–ö–∏–Ω—É—Ç—å –≤ –î–µ–¥–∞ –ú–æ—Ä–æ–∑–∞ –µ–ª–æ—á–Ω—ã–º —à–∞—Ä–æ–º",
                        next: {
                            text: '<p>–¢—ã —Ü–µ–ª–∏—à—å—Å—è –∏... –ü–æ–ø–∞–ª! –ù–∞–¥–æ –±—ã–ª–æ –∏–¥—Ç–∏ –Ω–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—ã, –∞ –≤ –±–∞—Å–∫–µ—Ç–±–æ–ª–∏—Å—Ç—ã! –ü–æ–ª—É—á–∞–π, –î–µ–¥ –ú–æ—Ä–æ–∑!</p><p>–ü–æ–¥–æ–∂–¥–∏—Ç–µ, –æ–Ω —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è...</p>',
                            question: null,
                            answers: [
                                {
                                    text: "–ê–∞–∞, –∞ –ø—Ä—è—Ç–∞—Ç—å—Å—è-—Ç–æ –≥–¥–µ?",
                                    next: {
                                        text: null,
                                        question: '<p>–ß—Ç–æ?... –°–µ—Ä—ã–π, —Ç—ã –æ—Ö—Ä–µ–Ω–µ–ª?!</p>',
                                        answers: [
                                            {
                                                text: "–û–õ–ï–ì?!",
                                                next: {
                                                    text: '<p>–î–µ–¥ –ú–æ—Ä–æ–∑ –ø—Ä–∏—Å–ø—É—Å–∫–∞–µ—Ç –±–æ—Ä–æ–¥—É –∏... —ç—Ç–æ –ø—Ä–∞–≤–¥–∞ –û–ª–µ–≥? –ñ–∏–≤–æ–π? –ù–∞—Å—Ç–æ—è—â–∏–π?!</p><p>–ù–µ—Ç, –Ω–µ –º–æ–∂–µ—Ç... —Å–Ω–æ–≤–∞ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏—è? –ù–∞–¥–æ –ø–æ–¥–æ–π—Ç–∏ –±–ª–∏–∂–µ, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å.</p>',
                                                    question: null,
                                                    answers: [],
                                                    callback: () => {
                                                        recognizedOleg = true;
                                                        modalSpeaker.style.backgroundImage = `url('assets/oleg.png')`;
                                                        speakerName.textContent = '–û–ª–µ–≥';
                                                    }
                                                }
                                            }
                                        ],
                                        callback: null
                                    }
                                }
                            ],
                            callback: () => {
                                const ballID = hasBalls.pop();

                                document.getElementById(ballID + 'item').remove();
                            }
                        }
                    }
                ],
                callback: () => {
                    oleg.row = 0;
                    oleg.col = 0;
                    updatePosition(oleg);

                    olegAppeared = true;
                }
            }
        }

        const hugOleg = {
            text: "–û–±–Ω—è—Ç—å –û–ª–µ–≥–∞",
            next: {
                text: '<p>–ú–æ–∂–µ—Ç –±—ã—Ç—å, –≤—Å–µ-—Ç–∞–∫–∏ –≥–ª—é–∫? –¢—ã –∑–∞–∂–º—É—Ä–∏–≤–∞–µ—à—å—Å—è –∏ –±—Ä–æ—Å–∞–µ—à—å—Å—è –µ–º—É –Ω–∞ —à–µ—é, —à–µ–ø—á–∞ –ø—Ä–æ —Å–µ–±—è: –ø—É—Å—Ç—å –±—ã –Ω–∞—Å—Ç–æ—è—â–∏–π, –ø—É—Å—Ç—å –±—ã –Ω–∞—Å—Ç–æ—è—â–∏–π... –¢–µ–ø–ª—ã–µ —Ä—É–∫–∏ –º—è–≥–∫–æ –æ–±—Ö–≤–∞—Ç—ã–≤–∞—é—Ç —Ç–µ–±—è –∏ –ø—Ä–∏–∂–∏–º–∞—é—Ç –∫ —Å–µ–±–µ.</p>',
                question: '<p>–ù—É —Ç—ã —á–µ–≥–æ... –ó–¥–µ—Å—å —è, –∑–¥–µ—Å—å, –≤—Å–µ —Ö–æ—Ä–æ—à–æ. –î–∞–≤–∞–π –≤—ã–±–∏—Ä–∞—Ç—å—Å—è –æ—Ç—Å—é–¥–∞, –∞, –ø–æ–∫–∞ –≥–æ–ª—É–±—å —Ç–≤–æ–π –æ—â–∏–ø–∞–Ω–Ω—ã–π –Ω–µ –ø—Ä–æ—Å–Ω—É–ª—Å—è?</p>',
                answers: [
                    {
                        text: "–í—ã—Ç–∞—â–∏ –º–µ–Ω—è –æ—Ç—Å—é–¥–∞, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.",
                        next: {
                            text: '<p>–û–ª–µ–≥ —Å–∂–∏–º–∞–µ—Ç —Ç–µ–±—è –∫—Ä–µ–ø—á–µ, –∞ –ø–æ—Ç–æ–º –æ—Ç–ø—É—Å–∫–∞–µ—Ç, –Ω–∞—â—É–ø–∞–≤ —Ç–≤–æ—é —Ä—É–∫—É.</p>',
                            question: '<p>–ö–æ–Ω–µ—á–Ω–æ. –¢–∞–º —Ä–µ–±—è—Ç–∞ –∂–¥—É—Ç. –ï—â–µ –Ω–µ–º–Ω–æ–≥–æ, –∏ —Ç—ã –±—É–¥–µ—à—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –Ø —Ç–µ–±–µ –æ–±–µ—â–∞—é.</p>',
                            answers: [],
                            callback: () => { endGame('good_hug'); }
                        }
                    },
                    {
                        text: "–ü–æ–¥–æ–∂–¥–∏, –ø–æ–¥–æ–∂–¥–∏. –Ø –Ω–µ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ...",
                        next: {
                            text: '<p>–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞ —Å–≤–µ—Ç–µ —Ç—ã —Ö–æ—á–µ—à—å –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ —ç—Ç–æ–≥–æ —É–∂–∞—Å–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤–º–µ—Å—Ç–µ —Å –û–ª–µ–≥–æ–º, –Ω–∞—Å—Ç–æ—è—â–∏–º, –∂–∏–≤—ã–º –û–ª–µ–≥–æ–º, –Ω–æ –≤ –≥–æ–ª–æ–≤—É –∑–∞–∫—Ä–∞–¥—ã–≤–∞–µ—Ç—Å—è –º—ã—Å–ª—å: –∞ —á—Ç–æ –µ—Å–ª–∏ –ü—Ç–∏—Ü–∞ —Å–Ω–æ–≤–∞ –≤–µ—Ä–Ω–µ—Ç—Å—è? –¢–µ–ø–µ—Ä—å —Ç–µ–±–µ –µ—Å—Ç—å, —á—Ç–æ —Ç–µ—Ä—è—Ç—å.</p>',
                            question: '<p>–°–µ—Ä—ã–π, –¥–∞–≤–∞–π –±—ã—Å—Ç—Ä–µ–µ. –Ø –∫–∞–º–µ—Ä—ã —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ–ª—á–∞—Å–∞ –≤—ã—Ä—É–±–∏–ª, –µ—Å–ª–∏ –Ω–∞—Å –∑–∞—Å—Ç–∞–Ω—É—Ç ‚Äî —Å—Ç–∞–Ω–µ—Ç —Å–ª–æ–∂–Ω–µ–µ.</p>',
                            answers: [
                                {
                                    text: "–ù–µ—Ç, –û–ª–µ–∂, –º–Ω–µ –Ω—É–∂–Ω–æ –æ—Å—Ç–∞—Ç—å—Å—è –∑–¥–µ—Å—å.",
                                    next: {
                                        text: '<p>–û–ª–µ–≥ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è –Ω–µ–≤–µ—Ä—è—â–∏–º–∏ –≥–ª–∞–∑–∞–º–∏ –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∏–º–æ–≤–µ—Ä–Ω–æ —Ä–∞—Å—Ç–µ—Ä—è–Ω–Ω—ã–º... –¢–µ–±–µ —Å–æ–≤—Å–µ–º –Ω–µ —Ö–æ—á–µ—Ç—Å—è –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Ç—É—Ç, –Ω–æ —Ç—ã –∑–Ω–∞–µ—à—å ‚Äî —Ç–∞–∫ –±—É–¥–µ—Ç –ª—É—á—à–µ. –ò –ø—Ä–æ–¥–æ–ª–∂–∞–µ—à—å —É–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å –µ–≥–æ, —Å—Ç–∞—Ä–∞—è—Å—å –∑–∞—Å—Ç–∞–≤–∏—Ç—å –≥–æ–ª–æ—Å –Ω–µ –¥—Ä–æ–∂–∞—Ç—å, –ø–æ–∫–∞ –û–ª–µ–≥ —Ç–æ–ª—å–∫–æ –∫–∏–≤–∞–µ—Ç –∏ —Å–º–æ—Ç—Ä–∏—Ç –≤–∑–≥–ª—è–¥–æ–º –ø–æ–±–∏—Ç–æ–≥–æ —â–µ–Ω–∫–∞. –ò –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è.</p><p>–û–Ω –≤—Å–µ–≥–¥–∞ —Å —Ç–æ–±–æ–π —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è.<p>',
                                        question: null,
                                        answers: [],
                                        callback: () => {
                                            endGame('bad_decided_to_stay');
                                        }
                                    }
                                },
                                {
                                    text: "–•–æ—Ä–æ—à–æ. –•–æ—Ä–æ—à–æ, –ø–æ–π–¥–µ–º.",
                                    next: {
                                        text: '<p>–¢–µ–±–µ –≤—Å–µ –µ—â–µ –æ—á–µ–Ω—å —Å—Ç—Ä–∞—à–Ω–æ, —á—Ç–æ –ü—Ç–∏—Ü–∞ —Å–Ω–æ–≤–∞ –æ—Ç–±–µ—Ä–µ—Ç —Å–µ–±–µ –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –Ω–∞–≤—Ä–µ–¥–∏—Ç –û–ª–µ–≥—É, –Ω–æ... –≤—ã –∂–µ —Å–ø—Ä–∞–≤–∏—Ç–µ—Å—å, –ø—Ä–∞–≤–¥–∞? –í–º–µ—Å—Ç–µ. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–ø—Ä–∞–≤–∏—Ç–µ—Å—å.</p>',
                                        question: null,
                                        answers: [],
                                        callback: () => {
                                            endGame('good_hug');
                                        }
                                    }
                                }
                            ],
                            callback: null
                        }
                    }
                ],
                callback: null
            }
        }

        const kissOleg = {
            text: "–ü–æ—Ü–µ–ª–æ–≤–∞—Ç—å –û–ª–µ–≥–∞",
            next: {
                text: '<p>–û–Ω –Ω–∞—Å—Ç–æ—è—â–∏–π. –í–µ–¥—å –ø—Ä–∞–≤–¥–∞? –¢—ã –±—Ä–æ—Å–∞–µ—à—å—Å—è –µ–º—É –Ω–∞ —à–µ—é –∏ —Ü–µ–ª—É–µ—à—å. –û–ª–µ–≥ –Ω–∞ —Å–µ–∫—É–Ω–¥—É –∑–∞–º–∏—Ä–∞–µ—Ç –Ω–∞ –º–µ—Å—Ç–µ, –Ω–æ –Ω–∞ –ø–æ—Ü–µ–ª—É–π –æ—Ç–≤–µ—á–∞–µ—Ç. –ö–æ–≥–¥–∞ –≤—ã –æ—Ç—Å—Ç—Ä–∞–Ω—è–µ—Ç–µ—Å—å, —É—à–∏ —É –Ω–µ–≥–æ –∫—Ä–∞—Å–Ω—ã–µ ‚Äî –≤ —Ü–≤–µ—Ç –∫–æ—Å—Ç—é–º–∞.</p><p>–ê—Ö –¥–∞. –í—ã –∂–µ —Ä–∞–Ω—å—à–µ —ç—Ç–æ–≥–æ –Ω–µ –¥–µ–ª–∞–ª–∏.</p>',
                question: '<p>–ê. –≠. –Ø... —è —Ç–µ–±—è —Ç–æ–∂–µ? –í —Å–º—ã—Å–ª–µ. –†–∞–¥ –≤–∏–¥–µ—Ç—å? –ò... –±–ª–∏–Ω, –Ω–∞–º –∂–µ... –°–µ—Ä—ã–π, –≤–∞–ª–∏–º –æ—Ç—Å—é–¥–∞, —è –∫–∞–º–µ—Ä—ã —Ç–æ–ª—å–∫–æ –Ω–∞ –ø–æ–ª—á–∞—Å–∞ –æ—Ç—Ä—É–±–∏–ª! –û—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ—Ç–æ–º. –•–æ—Ä–æ—à–æ?</p>',
                answers: [
                    {
                        text: "–•–æ—Ä–æ—à–æ.",
                        next: {
                            text: '<p>–¢—ã —Ö–≤–∞—Ç–∞–µ—à—å –û–ª–µ–≥–∞ –∑–∞ —Ä—É–∫—É, —Å–æ–≤—Å–µ–º –∫–∞–∫ –≤ –¥–µ—Ç—Å—Ç–≤–µ, –Ω–æ –ø–æ—Ç–æ–º, –Ω–µ —É–¥–µ—Ä–∂–∞–≤—à–∏—Å—å, –ø–æ–¥–Ω–æ—Å–∏—à—å –≤–∞—à–∏ —Å–æ–º–∫–Ω—É—Ç—ã–µ –ª–∞–¥–æ–Ω–∏ –∫–æ —Ä—Ç—É, –ª–µ–≥–æ–Ω—å–∫–æ —Ü–µ–ª—É—è –∫–æ—Å—Ç—è—à–∫–∏.</p>',
                            question: '<p>–°–µ—Ä—ã–π! –ú–Ω–µ –µ—â–µ –º–æ–∑–≥–æ–≤—ã–µ –∫–ª–µ—Ç–∫–∏ –Ω—É–∂–Ω—ã –¥–ª—è –ø–æ–±–µ–≥–∞. –ü–æ–¥–æ–∂–¥–∏ —á—É—Ç—å-—á—É—Ç—å, –º–æ–∏ —Ä–µ–±—è—Ç–∞ –Ω–∞—Å –∂–¥—É—Ç –Ω–∞ –≤—ã—Ö–æ–¥–µ.</p>',
                            answers: [],
                            callback: () => { endGame('good_kiss'); }
                        }
                    },
                    {
                        text: "–ü–æ–¥–æ–∂–¥–∏, –ø–æ–¥–æ–∂–¥–∏. –Ø –Ω–µ —É–≤–µ—Ä–µ–Ω, —á—Ç–æ...",
                        next: {
                            text: '<p>–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –Ω–∞ —Å–≤–µ—Ç–µ —Ç—ã —Ö–æ—á–µ—à—å –≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑ —ç—Ç–æ–≥–æ —É–∂–∞—Å–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –≤–º–µ—Å—Ç–µ —Å –û–ª–µ–≥–æ–º, –Ω–∞—Å—Ç–æ—è—â–∏–º, –∂–∏–≤—ã–º –û–ª–µ–≥–æ–º, –Ω–æ –≤ –≥–æ–ª–æ–≤—É –∑–∞–∫—Ä–∞–¥—ã–≤–∞–µ—Ç—Å—è –º—ã—Å–ª—å: –∞ —á—Ç–æ –µ—Å–ª–∏ –ü—Ç–∏—Ü–∞ —Å–Ω–æ–≤–∞ –≤–µ—Ä–Ω–µ—Ç—Å—è? –¢–µ–ø–µ—Ä—å —Ç–µ–±–µ –µ—Å—Ç—å, —á—Ç–æ —Ç–µ—Ä—è—Ç—å.</p>',
                            question: '<p>–°–µ—Ä—ã–π, –±—ã—Å—Ç—Ä–µ–µ, –Ω—É. –ï—Å–ª–∏ –Ω–∞—Å –∑–∞—Å—Ç–∞–Ω—É—Ç —Å–µ–π—á–∞—Å ‚Äî —Å—Ç–∞–Ω–µ—Ç —Å–ª–æ–∂–Ω–µ–µ.</p>',
                            answers: [
                                {
                                    text: "–ù–µ—Ç, –û–ª–µ–∂, –º–Ω–µ –Ω—É–∂–Ω–æ –æ—Å—Ç–∞—Ç—å—Å—è –∑–¥–µ—Å—å.",
                                    next: {
                                        text: '<p>–¢–µ–±–µ —Å–æ–≤—Å–µ–º –Ω–µ —Ö–æ—á–µ—Ç—Å—è –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Ç—É—Ç, –Ω–æ —Ç—ã –∑–Ω–∞–µ—à—å ‚Äî —Ç–∞–∫ –±—É–¥–µ—Ç –ª—É—á—à–µ. –ò –ø—Ä–æ–¥–æ–ª–∂–∞–µ—à—å —É–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å –µ–≥–æ, —Å—Ç–∞—Ä–∞—è—Å—å –∑–∞—Å—Ç–∞–≤–∏—Ç—å –≥–æ–ª–æ—Å –Ω–µ –¥—Ä–æ–∂–∞—Ç—å... –û–ª–µ–≥ —Ä–∞—Å—Ç–µ—Ä—è–Ω–Ω–æ —Å–º–æ—Ç—Ä–∏—Ç, –Ω–æ –ø–æ—Ç–æ–º‚Äî</p>',
                                        question: '<p>–ù–µ—Ç. –Ø —Ç–µ–±—è —Ç—É—Ç –Ω–µ –æ—Å—Ç–∞–≤–ª—é, —Ö–æ—Ä–æ—à–æ? –Ø –±–æ–ª—å—à–µ –≤–æ–æ–±—â–µ —Ç–µ–±—è –Ω–µ –æ—Å—Ç–∞–≤–ª—é, —Ö–æ—Ç—å —Å—Ç—Ä–µ–ª—è–π –≤ –º–µ–Ω—è. –ú—ã —Å–ø—Ä–∞–≤–∏–º—Å—è, –°–µ—Ä–µ–∂. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞. –í–µ—Ä—å –º–Ω–µ.</p>',
                                        answers: [
                                            {
                                                text: "–ü–æ–π—Ç–∏ —Å –û–ª–µ–≥–æ–º",
                                                next: {
                                                    text: '<p>–¢–µ–±–µ –≤—Å–µ –µ—â–µ –æ—á–µ–Ω—å —Å—Ç—Ä–∞—à–Ω–æ, –Ω–æ –û–ª–µ–≥ —Ç–∞–∫ —Å–º–æ—Ç—Ä–∏—Ç... –¢—ã —Ö–≤–∞—Ç–∞–µ—à—å –µ–≥–æ –∑–∞ —Ä—É–∫—É –∏ –∫–∏–≤–∞–µ—à—å. –í—ã —Å–ø—Ä–∞–≤–∏—Ç–µ—Å—å.</p>',
                                                    question: null,
                                                    answers: [],
                                                    callback: () => {
                                                        endGame('good_decided_to_stay');
                                                    }
                                                }
                                            }
                                        ],
                                        callback: null
                                    }
                                },
                                {
                                    text: "–•–æ—Ä–æ—à–æ. –•–æ—Ä–æ—à–æ, –ø–æ–π–¥–µ–º.",
                                    next: {
                                        text: '<p>–¢–µ–±–µ –≤—Å–µ –µ—â–µ –æ—á–µ–Ω—å —Å—Ç—Ä–∞—à–Ω–æ, —á—Ç–æ –ü—Ç–∏—Ü–∞ —Å–Ω–æ–≤–∞ –æ—Ç–±–µ—Ä–µ—Ç —Å–µ–±–µ –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –Ω–∞–≤—Ä–µ–¥–∏—Ç –û–ª–µ–≥—É, –Ω–æ... –≤—ã –∂–µ —Å–ø—Ä–∞–≤–∏—Ç–µ—Å—å, –ø—Ä–∞–≤–¥–∞? –í–º–µ—Å—Ç–µ. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–ø—Ä–∞–≤–∏—Ç–µ—Å—å.</p>',
                                        question: null,
                                        answers: [],
                                        callback: () => {
                                            endGame('good_kiss');
                                        }
                                    }
                                }
                            ],
                            callback: null
                        }
                    }
                ],
                callback: null
            }
        }

        const olegFoundYou = {
            speaker: '–î–µ–¥ –ú–æ—Ä–æ–∑',
            avatar: `url('assets/santa.png')`,
            dialogue: {
                text: '<p>–ö–∞–∫ –±—ã —Ç—ã –Ω–µ –ø—Ä—è—Ç–∞–ª—Å—è, –∫–æ–º–Ω–∞—Ç–∞ –Ω–µ –æ—á–µ–Ω—å –±–æ–ª—å—à–∞—è. –¢—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ—à—å—Å—è —Å –î–µ–¥–æ–º –ú–æ—Ä–æ–∑–æ–º –∏...</p>',
                question: '<p>–°–µ—Ä—ã–π??</p>',
                answers: [
                    {
                        text: "–û–õ–ï–ì?!",
                        next: {
                            text: '<p>–î–µ–¥ –ú–æ—Ä–æ–∑ –ø—Ä–∏—Å–ø—É—Å–∫–∞–µ—Ç –±–æ—Ä–æ–¥—É –∏... —ç—Ç–æ –ø—Ä–∞–≤–¥–∞ –û–ª–µ–≥? –ñ–∏–≤–æ–π? –ù–∞—Å—Ç–æ—è—â–∏–π?!</p><p>–ù–µ—Ç, –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å... —Å–Ω–æ–≤–∞ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏—è?</p>',
                            question: '<p>–°–µ—Ä–µ–∂?... –≠—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ç—ã? –ò–ª–∏ –æ–ø—è—Ç—å –ø–µ—Ä–Ω–∞—Ç–∞—è —Ç–≤–∞—Ä—å?</p>',
                            answers: [
                                {
                                    text: "–£—â–∏–ø–Ω—É—Ç—å –û–ª–µ–≥–∞ –∑–∞ —â–µ–∫—É (–≤–¥—Ä—É–≥ –Ω–µ–Ω–∞—Å—Ç–æ—è—â–∏–π)",
                                    next: {
                                        text: null,
                                        question: '<p>–ê–π! –ù–µ, —Ä–µ–∞–ª—å–Ω–æ —Ç—ã, —Ç–æ—Ç –º—É–¥–∞–∫ –±–æ–ª—å–Ω–µ–µ —â–∏–ø–ª–µ—Ç—Å—è... –°–µ—Ä—ã–π, —è –ø–∏–∑–¥–µ—Ü –∫–∞–∫ —Å–∫—É—á–∞–ª.</p>',
                                        answers: [hugOleg, kissOleg],
                                        callback: null
                                    }
                                },
                                hugOleg,
                                kissOleg
                            ],
                            callback: () => {
                                recognizedOleg = true;
                                modalSpeaker.style.backgroundImage = `url('assets/oleg.png')`;
                                speakerName.textContent = '–û–ª–µ–≥';
                            }
                        }
                    }
                ],
                callback: null
            }
        }

        const doorDialogues = [
            {
                speaker: null,
                avatar: 'none',
                dialogue: {
                    text: '<p>–í–ø–µ—Ä–≤—ã–µ –∑–∞ –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è —Å –Ω–∞—Å—Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–≤—à–∏–º —Å–æ–∑–Ω–∞–Ω–∏–µ–º, —Ç—ã –ø—Ä–∏–≥–ª—è–¥—ã–≤–∞–µ—à—å—Å—è –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ –∏ –≤–∏–¥–∏—à—å: –Ω–µ–±–æ–ª—å—à–æ–π –∫—É—Å–æ–∫ —Å—Ç–µ–Ω—ã –≤—ã–ø–∏—Ä–∞–µ—Ç —Ç–∞–º, –≥–¥–µ –Ω–µ –¥–æ–ª–∂–µ–Ω.</p>',
                    question: null,
                    answers: [
                        {
                            text: "–¢–æ–ª–∫–Ω—É—Ç—å —Å—Ç–µ–Ω—É",
                            next: {
                                text: '<p>–°—Ç–µ–Ω–∞ –ø–æ–¥–¥–∞–µ—Ç—Å—è! –¢—ã –Ω–∞–¥–∞–≤–ª–∏–≤–∞–µ—à—å —Å–∏–ª—å–Ω–µ–µ, –∏ ‚Äî –æ —á—É–¥–æ! ‚Äî –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–æ—Ö–æ–¥ –≤ –∫–æ—Ä–∏–¥–æ—Ä.</p><p>–ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–æ–≥–æ —Å–º–∏—Ä–µ–Ω–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –º—É—á–µ–Ω–∏–π ‚Äî –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –≤—ã–±–∏—Ä–∞—Ç—å—Å—è –æ—Ç—Å—é–¥–∞.</p>',
                                question: null,
                                answers: [],
                                callback: initSecondScreen
                            }
                        }
                    ],
                    callback: null
                }
            },
            {
                speaker: null,
                avatar: 'none',
                dialogue: {
                    text: '<p>–ü—Ç–∏—Ü–∞, –∫–∞–ø–∏—Ç–∞–ª—å–Ω–æ –æ—Ö—Ä–µ–Ω–µ–≤—à–∏–π –æ—Ç —Ç–≤–æ–µ–π –æ—Ç—á–∞—è–Ω–Ω–æ–π –∞–≥—Ä–µ—Å—Å–∏–∏, —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è –≤ –≤–æ–∑–¥—É—Ö–µ ‚Äî –±—É–¥—Ç–æ –∏ –Ω–µ –±—ã–ª–æ –µ–≥–æ –Ω–∏–∫–æ–≥–¥–∞. –ó–∞ –Ω–∏–º ‚Äî –¥–≤–µ—Ä—å. –ö–∞–∂–µ—Ç—Å—è, –¥–∞–∂–µ –Ω–µ–∑–∞–ø–µ—Ä—Ç–∞—è.</p>',
                    question: null,
                    answers: [
                        {
                            text: "–û—Ç–∫—Ä—ã—Ç—å –¥–≤–µ—Ä—å",
                            next: {
                                text: '<p>–ü—Ä–æ—Ö–æ–¥ –æ—Ç–∫—Ä—ã—Ç! –ï—â–µ –Ω–µ–º–Ω–æ–≥–æ ‚Äî –∏ —Ç—ã —Å–≤–æ–±–æ–¥–µ–Ω. –ì–ª–∞–≤–Ω–æ–µ, –Ω–µ –ø–æ–ø–∞—Å—Ç—å—Å—è —Å–∞–Ω–∏—Ç–∞—Ä–∞–º...</p>',
                                question: null,
                                answers: [],
                                callback: initThirdScreen
                            }
                        }
                    ],
                    callback: null
                }
            },
            {
                speaker: null,
                avatar: 'none',
                dialogue: {
                    text: '<p>–í–æ—Ç –æ–Ω–∞, —Å–≤–æ–±–æ–¥–∞! –ö–∞–∂–µ—Ç—Å—è, –∑–∞ –¥–≤–µ—Ä—å—é ‚Äî –≤—ã—Ö–æ–¥ –Ω–∞—Ä—É–∂—É. –¢–µ–ø–µ—Ä—å —Ç–µ–±—è –Ω–∏–∫—Ç–æ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç.</p>',
                    question: null,
                    answers: [
                        {
                            text: "–°–±–µ–∂–∞—Ç—å –∏–∑ –±–æ–ª—å–Ω–∏—Ü—ã",
                            next: {
                                text: '<p>–¢—ã –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å –¥–≤–µ—Ä—å –∏ –≤—ã—Ö–æ–¥–∏—à—å –Ω–∞ —É–ª–∏—Ü—É. –°–≤–µ–∂–∏–π –≤–æ–∑–¥—É—Ö –≤–ø–µ—Ä–≤—ã–µ –∑–∞ –≥–æ–¥... –≠—Ç–æ –ª–∏ –Ω–µ —Å—á–∞—Å—Ç—å–µ?</p>',
                                question: null,
                                answers: [],
                                callback: () => {
                                    endGame('missedOleg');
                                }
                            }
                        }
                    ],
                    callback: () => { olegIsMoving = false; }
                }
            }
        ]

        const objectDialogues = [
            {
                speaker: null,
                avatar: 'none',
                dialogue: {
                    text: '<p>–ù–∞ –ø–æ–ª—É –ª–µ–∂–∏—Ç... –≥–∏—Ä–ª—è–Ω–¥–∞? –ö–∞–∂–µ—Ç—Å—è, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –±–æ–ª—å–Ω–∏—Ü—ã —É–∫—Ä–∞—à–∞–ª–∏ –µ–ª–∫—É, –∞ –ª–∏—à–Ω–µ–µ —Å–±—Ä–æ—Å–∏–ª–∏ –≤ —ç—Ç–æ–º –∫–æ—Ä–∏–¥–æ—Ä–µ.</p><p>–ú–æ–∂–µ—Ç –±—ã—Ç—å, –≤–∑—è—Ç—å –µ–µ —Å–µ–±–µ?</p>',
                    question: null,
                    answers: [
                        {
                            text: "–û—Å—Ç–∞–≤–∏—Ç—å –≥–¥–µ –ª–µ–∂–∞–ª–æ",
                            next: {
                                text: '<p>–ò –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –∑–∞—á–µ–º —Ç–µ–±–µ —ç—Ç–∞ –≥–∏—Ä–ª—è–Ω–¥–∞. –ö—É–¥–∞ —Ç–µ–±–µ –µ–µ –≤–µ—à–∞—Ç—å? –ò —Å –∫–µ–º?...</p>',
                                question: null,
                                answers: [],
                                callback: null
                            }
                        },
                        {
                            text: "–ó–∞—Å—É–Ω—É—Ç—å –∑–∞ –≤–æ—Ä–æ—Ç —Å–º–∏—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ä—É–±–∞—à–∫–∏",
                            next: {
                                text: '<p>–ò –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –≤–µ—â—å –ø–æ–ª–µ–∑–Ω–∞—è, –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è. –ï—Å–ª–∏ –± —É —Ç–µ–±—è –µ—â–µ –±—ã–ª–∞ –µ–ª–∫–∞... –∏ –∫–≤–∞—Ä—Ç–∏—Ä–∞, –∫—É–¥–∞ –µ–ª–∫—É –ø–æ—Å—Ç–∞–≤–∏—Ç—å... –∏ —Å –∫–µ–º –ø—Ä–∞–∑–¥–Ω–æ–≤–∞—Ç—å –ù–æ–≤—ã–π –≥–æ–¥...</p><p>–¢–∞–∫, –æ–± —ç—Ç–æ–º –ª—É—á—à–µ –Ω–µ –¥—É–º–∞—Ç—å. –°–Ω–∞—á–∞–ª–∞ –ø–æ–±–µ–≥, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ—Ç–æ–º!</p>',
                                question: null,
                                answers: [],
                                callback: () => {
                                    hasGarland = true;

                                    const item = document.createElement('div');
                                    item.className = 'inventory-item';
                                    item.id = 'garlandItem';
                                    item.style.backgroundImage = `url('assets/garland.png')`;
                                    inventory.appendChild(item);

                                    document.getElementById('garland.png').remove();
                                    let index = -1;
                                    for (let i = 0; i < objects.length; i++) {
                                        if (objects[i].id === 'garland.png') {
                                            index = i;
                                            break;
                                        }
                                    }
                                    if (index != -1) {
                                        objects.splice(index, 1);
                                    }
                                }
                            }
                        }
                    ],
                    callback: null
                }
            },
            {
                speaker: null,
                avatar: 'none',
                dialogue: {
                    text: '<p>–ù–∞ –ø–æ–ª—É –ª–µ–∂–∏—Ç... –µ–ª–æ—á–Ω—ã–π —à–∞—Ä–∏–∫? –ö–∞–∂–µ—Ç—Å—è, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –±–æ–ª—å–Ω–∏—Ü—ã —É–∫—Ä–∞—à–∞–ª–∏ –µ–ª–∫—É, –∞ –ª–∏—à–Ω–µ–µ —Å–±—Ä–æ—Å–∏–ª–∏ –≤ —ç—Ç–æ–º –∫–æ—Ä–∏–¥–æ—Ä–µ. –ú–æ–∂–µ—Ç –±—ã—Ç—å, –≤–∑—è—Ç—å —à–∞—Ä–∏–∫ —Å–µ–±–µ?</p>',
                    question: null,
                    answers: [
                        {
                            text: "–û—Å—Ç–∞–≤–∏—Ç—å –≥–¥–µ –ª–µ–∂–∞–ª–æ",
                            next: {
                                text: '<p>–ò –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –∑–∞—á–µ–º —Ç–µ–±–µ —ç—Ç–æ—Ç —à–∞—Ä–∏–∫. –£ —Ç–µ–±—è –∂–µ –Ω–∏ –µ–ª–∫–∏, –Ω–∏ –¥–æ–º–∞! –ï–≥–æ –±—Ä–∞—Ç—å ‚Äî —Ç–æ–ª—å–∫–æ —Å–æ–∂–∞–ª–µ—Ç—å –æ –Ω–µ—Å–±—ã–≤—à–µ–º—Å—è...</p>',
                                question: null,
                                answers: [],
                                callback: null
                            }
                        },
                        {
                            text: "–ó–∞—Å—É–Ω—É—Ç—å –∑–∞ –≤–æ—Ä–æ—Ç —Å–º–∏—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ä—É–±–∞—à–∫–∏",
                            next: {
                                text: '<p>–ò –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, –≤–µ—â—å –ø–æ–ª–µ–∑–Ω–∞—è, –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è. –ï—Å–ª–∏ –± —É —Ç–µ–±—è –µ—â–µ –±—ã–ª–∞ –µ–ª–∫–∞... –∏ –∫–≤–∞—Ä—Ç–∏—Ä–∞, –∫—É–¥–∞ –µ–ª–∫—É –ø–æ—Å—Ç–∞–≤–∏—Ç—å... –∏ —Å –∫–µ–º –ø—Ä–∞–∑–¥–Ω–æ–≤–∞—Ç—å –ù–æ–≤—ã–π –≥–æ–¥...</p><p>–¢–∞–∫, –æ–± —ç—Ç–æ–º –ª—É—á—à–µ –Ω–µ –¥—É–º–∞—Ç—å. –°–Ω–∞—á–∞–ª–∞ –ø–æ–±–µ–≥, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ—Ç–æ–º!</p>',
                                question: null,
                                answers: [],
                                callback: () => {
                                    const ball = cells[eventRow][eventCol].children[0];

                                    hasBalls.push(ball.id);

                                    const item = document.createElement('div');
                                    item.className = 'inventory-item';
                                    item.id = ball.id + 'item';
                                    item.style.backgroundImage = `url('assets/${ball.id}')`;
                                    inventory.appendChild(item);

                                    let index = -1;
                                    for (let i = 0; i < objects.length; i++) {
                                        if (objects[i].id === ball.id) {
                                            index = i;
                                            break;
                                        }
                                    }
                                    if (index != -1) {
                                        objects.splice(index, 1);
                                    }

                                    ball.remove();
                                }
                            }
                        }
                    ],
                    callback: null
                }
            },
            {
                speaker: null,
                avatar: 'none',
                dialogue: {
                    text: '<p>–¢—ã —Å–Ω–æ–≤–∞ –Ω–∞—Ç—ã–∫–∞–µ—à—å—Å—è –Ω–∞ –µ–ª–æ—á–Ω—ã–π —à–∞—Ä–∏–∫. –í–∑—è—Ç—å –µ–≥–æ —Å–µ–±–µ?</p>',
                    question: null,
                    answers: [
                        {
                            text: "–û—Å—Ç–∞–≤–∏—Ç—å –≥–¥–µ –ª–µ–∂–∞–ª–æ",
                            next: {
                                text: '<p>–ò –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ, —Ö–≤–∞—Ç–∏—Ç –∏ —Ç–∞–∫. –ö—É–¥–∞ —Ç—ã —ç—Ç–∏ —à–∞—Ä–∏–∫–∏ –≤–µ—à–∞—Ç—å –±—É–¥–µ—à—å, —Å–µ–±–µ –Ω–∞ –ª–æ–±?</p>',
                                question: null,
                                answers: [],
                                callback: null
                            }
                        },
                        {
                            text: "–ó–∞—Å—É–Ω—É—Ç—å –∑–∞ –≤–æ—Ä–æ—Ç —Å–º–∏—Ä–∏—Ç–µ–ª—å–Ω–æ–π —Ä—É–±–∞—à–∫–∏",
                            next: {
                                text: '<p>–ë–æ–ª—å—à–µ —à–∞—Ä–∏–∫–æ–≤, –±–æ–ª—å—à–µ! –ê —Ç–∞–º, –≥–ª—è–¥–∏, –∏ –µ–ª–∫—É –≥–¥–µ-–Ω–∏–±—É–¥—å –ø–æ–¥–±–µ—Ä–µ—à—å...</p>',
                                question: null,
                                answers: [],
                                callback: () => {
                                    const ball = cells[eventRow][eventCol].children[0];

                                    hasBalls.push(ball.id);

                                    const item = document.createElement('div');
                                    item.className = 'inventory-item';
                                    item.id = ball.id + 'item';
                                    item.style.backgroundImage = `url('assets/${ball.id}')`;
                                    inventory.appendChild(item);

                                    let index = -1;
                                    for (let i = 0; i < objects.length; i++) {
                                        if (objects[i].id === ball.id) {
                                            index = i;
                                            break;
                                        }
                                    }
                                    if (index != -1) {
                                        objects.splice(index, 1);
                                    }

                                    ball.remove();
                                }
                            }
                        }
                    ],
                    callback: null
                }
            }
        ]

        const youFoundOleg = {
            speaker: '–û–ª–µ–≥',
            avatar: `url('assets/oleg.png')`,
            dialogue: {
                text: '<p>–¢—ã –ø–æ–¥—Ö–æ–¥–∏—à—å –±–ª–∏–∂–µ –∏, –µ—â–µ –Ω–µ –≤–µ—Ä—è –¥–æ –∫–æ–Ω—Ü–∞, —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ—à—å —á–µ–ª–æ–≤–µ–∫–∞ –Ω–∞–ø—Ä–æ—Ç–∏–≤.</p><p>–≠—Ç–æ –ø—Ä–∞–≤–¥–∞ –û–ª–µ–≥.</p>',
                question: '<p>–°–µ—Ä–µ–∂?... –≠—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ç—ã? –ò–ª–∏ –æ–ø—è—Ç—å –ø–µ—Ä–Ω–∞—Ç–∞—è —Ç–≤–∞—Ä—å?</p>',
                answers: [
                    {
                        text: "–£—â–∏–ø–Ω—É—Ç—å –û–ª–µ–≥–∞ –∑–∞ —â–µ–∫—É (–≤–¥—Ä—É–≥ –Ω–µ–Ω–∞—Å—Ç–æ—è—â–∏–π)",
                        next: {
                            text: null,
                            question: '<p>–ê–π! –ù–µ, —Ä–µ–∞–ª—å–Ω–æ —Ç—ã, —Ç–æ—Ç –º—É–¥–∞–∫ –±–æ–ª—å–Ω–µ–µ —â–∏–ø–ª–µ—Ç—Å—è... –°–µ—Ä—ã–π, —è –ø–∏–∑–¥–µ—Ü –∫–∞–∫ —Å–∫—É—á–∞–ª.</p>',
                            answers: [hugOleg, kissOleg],
                            callback: null
                        }
                    },
                    hugOleg,
                    kissOleg
                ],
                callback: null
            }
        }

        function getAlert(text) {
            startCutscene({
                speaker: null,
                avatar: 'none',
                dialogue: {
                    text: '<p>' + text + '</p>',
                    question: null,
                    answers: [],
                    callback: null
                }
            });
        }

        function addObjectTo(row, col, classname, picture = null) {
            const div = document.createElement('div');
            div.className = classname;
            if (picture) {
                div.style.backgroundImage = `url('assets/${picture}')`;
                div.id = picture;
            }

            cells[row][col].appendChild(div);
            objects.push({ id: picture, row: row, col: col });

            return div;
        }
        
        // Initialize the game
        function initFirstScreen() {
            rowsCount = 6;
            colsCount = 6;

            // Clear the game field
            gameField.innerHTML = '';
            gameField.style['grid-template-rows'] = `repeat(${rowsCount}, 1fr)`;
            gameField.style['grid-template-columns'] = `repeat(${colsCount}, 1fr)`;

            cells = [];
            objects = [];
            
            for (let row = 0; row < rowsCount; row++) {
                cells[row] = [];
                for (let col = 0; col < colsCount; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    
                    // Add click event listener
                    cell.addEventListener('click', handleCellClick);
                    
                    gameField.appendChild(cell);
                    cells[row][col] = cell;
                }
            }
            
            // Place S in top-left corner
            s.row = 0;
            s.col = 0;
            updatePosition(s);

            bird.row = rowsCount - 1;
            bird.col = colsCount - 1;
            updatePosition(bird);

            // create door
            door = document.createElement('div');
            door.className = 'door';
            door.addEventListener('click', handleDoorClick);
        }

        function initSecondScreen() {
            currentSceneInd++;

            rowsCount = 8;
            colsCount = 4;

            // Clear the game field
            gameField.innerHTML = '';
            gameField.style['grid-template-rows'] = `repeat(${rowsCount}, 1fr)`;
            gameField.style['grid-template-columns'] = `repeat(${colsCount}, 1fr)`;
            gameField.style['aspect-ratio'] = '1 / 2';

            cells = [];
            objects = [];
            
            for (let row = 0; row < rowsCount; row++) {
                cells[row] = [];
                for (let col = 0; col < colsCount; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    
                    // Add click event listener
                    cell.addEventListener('click', handleCellClick);
                    
                    gameField.appendChild(cell);
                    cells[row][col] = cell;
                }
            }
            
            s.row = rowsCount - 1;
            s.col = 1;
            updatePosition(s);

            // –≥–∏—Ä–ª—è–Ω–¥–∞
            addObjectTo(1, colsCount - 1, 'object', 'garland.png');

            // —à–∞—Ä–∏–∫–∏
            for (let i = 1; i <= 5; i++) {
                let ballRow, ballCol;

                ballRow = Math.floor(Math.random() * (rowsCount - 2)) + 1; // random from 1 to rowsCount - 2
                ballCol = Math.floor(Math.random() * colsCount); // from 0 to rowsCount - 1

                while (cells[ballRow][ballCol].children.length > 0) {
                    ballRow = Math.floor(Math.random() * (rowsCount - 2)) + 1; // random from 1 to rowsCount - 2
                    ballCol = Math.floor(Math.random() * colsCount); // from 0 to rowsCount - 1
                }

                const ball = addObjectTo(ballRow, ballCol, 'object', `ball${i}.png`);
                ball.classList.add('ball');
            }

            // update door
            door.style.width = '22%';

            setTimeout(() => {
                if (!birdAppeared) {
                    bird.row = 0;
                    bird.col = 0;
                    updatePosition(bird);

                    birdAppeared = true;

                    startCutscene(birdAppearance);
                }
            }, 15000);
        }

        function initThirdScreen() {
            currentSceneInd++;

            rowsCount = 8;
            colsCount = 8;

            // Clear the game field
            gameField.innerHTML = '';
            gameField.style['grid-template-rows'] = `repeat(${rowsCount}, 1fr)`;
            gameField.style['grid-template-columns'] = `repeat(${colsCount}, 1fr)`;
            gameField.style['aspect-ratio'] = '1 / 1';

            cells = [];
            objects = [];
            
            for (let row = 0; row < rowsCount; row++) {
                cells[row] = [];
                for (let col = 0; col < colsCount; col++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.dataset.row = row;
                    cell.dataset.col = col;
                    
                    // Add click event listener
                    cell.addEventListener('click', handleCellClick);
                    
                    gameField.appendChild(cell);
                    cells[row][col] = cell;
                }
            }
            
            s.row = rowsCount - 1;
            s.col = colsCount - 2;
            updatePosition(s);

            // –¥–æ–±–∞–≤–∏—Ç—å –º–µ–±–µ–ª—å
            const rug = document.createElement('div');
            rug.className = 'rug';
            gameField.appendChild(rug);

            addObjectTo(2, 0, 'object', `chair1.png`);
            addObjectTo(2, 2, 'object', `chair2.png`);
            addObjectTo(3, 1, 'object', `table2.png`);

            addObjectTo(1, 6, 'object', `chair3.png`);
            addObjectTo(1, 7, 'object', `table1.png`);

            addObjectTo(7, 0, 'object', `cabinet.png`);

            // update door
            door.style.width = '11%';

            setTimeout(() => {
                if (!olegAppeared) {
                    startCutscene(olegAppearance);
                }
            }, 15000);
        }
        
        // Place character at specified position
        function updatePosition(character) {
            const char = document.getElementById(character.id);
            if (char) {
                cells[character.row][character.col].appendChild(char);
            } else {
                const char = document.createElement('div');
                char.className = `${character.id} object`;
                char.id = character.id;
                cells[character.row][character.col].appendChild(char);
            }
        }

        function getObjectAt(row, col) {
            for (let i = 0; i < objects.length; i++) {
                if (objects[i].row === row && objects[i].col === col) {
                    return objects[i];
                }
            }

            return null;
        }
        
        // Handle cell click
        async function handleCellClick(event) {
            const cell = event.currentTarget;
            const row = parseInt(cell.dataset.row);
            const col = parseInt(cell.dataset.col);

            eventRow = row;
            eventCol = col;

            const object = getObjectAt(row, col);
            
            if (row === bird.row && col === bird.col) {
                if (Math.abs(s.row - row) <= 1 && Math.abs(s.col - col) <= 1) {
                    startCutscene(birdDialogues[currentSceneInd]);
                } else {
                    getAlert('–ü—Ç–∏—Ü–∞ —Ç–æ–ø–æ—Ä—â–∏—Ç—Å—è –∏ –º–∞—à–µ—Ç –∫—Ä—ã–ª—å—è–º–∏, –Ω–æ –±—É–¥—Ç–æ –Ω–µ —Å–ª—ã—à–∏—Ç —Ç–µ–±—è. –ü–æ–¥–æ–π–¥–∏ –ø–æ–±–ª–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –Ω–∏–º.');
                }
            } else if (row === oleg.row && col === oleg.col) {
                if (Math.abs(s.row - row) <= 1 && Math.abs(s.col - col) <= 1) {
                    olegIsMoving = false;
                    if (recognizedOleg) {
                        startCutscene(youFoundOleg);
                    } else {
                        startCutscene(olegFoundYou);
                    }
                } else {
                    if (recognizedOleg) {
                        getAlert('–ì–æ–ª–æ—Å –æ—Ç –Ω–µ—Ä–≤–æ–≤ —É —Ç–µ–±—è —Å–æ–≤—Å–µ–º —Å–µ–ª. –ü–æ–¥–æ–π–¥–∏ –ø–æ–±–ª–∏–∂–µ, —á—Ç–æ–±—ã –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å.');
                    } else {
                        getAlert('–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å –î–µ–¥–æ–º –ú–æ—Ä–æ–∑–æ–º, –ø–æ–¥–æ–π–¥–∏ –∫ –Ω–µ–º—É –ø–æ–±–ª–∏–∂–µ.');
                    }
                }
            } else if (object) {
                if (currentSceneInd === 2) {
                    getAlert('–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –º–µ–±–µ–ª—å. –ù–∏—á–µ–≥–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ.');
                } else if (Math.abs(s.row - row) <= 1 && Math.abs(s.col - col) <= 1) {
                    if (object.id === 'garland.png') {
                        startCutscene(objectDialogues[0]);
                    } else {
                        if (hasBalls.length > 0) {
                            startCutscene(objectDialogues[2]);
                        } else startCutscene(objectDialogues[1]);
                    }
                } else {
                    getAlert('–ö–∞–∂–µ—Ç—Å—è, —Ç—É—Ç —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ... –ü–æ–¥–æ–π–¥–∏ –ø–æ–±–ª–∏–∂–µ, —á—Ç–æ–±—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å.');
                }
            } else if (row !== s.row || col !== s.col) {
                await moveS(row, col);
            }
        }

        function handleDoorClick(event) {
            if (s.row === 0 && s.col === 0) {
                olegIsMoving = false;
                startCutscene(doorDialogues[currentSceneInd]);
            } else {
                if (currentSceneInd === 0) {
                    getAlert('–¢–µ–±–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —Å–æ —Å—Ç–µ–Ω–æ–π –≤ –æ–¥–Ω–æ–º –∏–∑ —É–≥–ª–æ–≤ –ø–∞–ª–∞—Ç—ã —á—Ç–æ-—Ç–æ –Ω–µ —Ç–æ. –ü–æ–¥–æ–π–¥–∏ –ø–æ–±–ª–∏–∂–µ, —á—Ç–æ–±—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ.');
                } else {
                    getAlert('–¢—ã –≤–∏–¥–∏—à—å –¥–≤–µ—Ä—å –¥–∞–ª—å—à–µ! –ü–æ–¥–æ–π–¥–∏ –ø–æ–±–ª–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –≤—ã–π—Ç–∏.');
                }
            }
        }

        // info is a dict with all the scene info
        function startCutscene(info) {
            // figure out speaker
            if (info.speaker) {
                modalSpeaker.style.display = 'initial';

                modalContent.classList.remove('no-avatar');
                modalSpeaker.style.backgroundImage = info.avatar;
                speakerName.style.display = 'initial';
                speakerName.textContent = info.speaker;
            } else {
                modalSpeaker.style.display = 'none';
                speakerName.style.display = 'none';
                modalContent.classList.add('no-avatar');
            }

            currentDialogue = info.dialogue;
            
            addDialogue();
            
            // Show modal
            cutsceneModal.style.display = 'flex';
            
        }

        function addDialogue() {
            if (currentDialogue.text) {
                dialogueInfo.innerHTML = currentDialogue.text;
            } else {
                dialogueInfo.innerHTML = '';
            }

            if (currentDialogue.question) {
                dialogueQuestion.innerHTML = currentDialogue.question;
                dialogueQuestion.style.display = 'initial';

                modalSpeaker.style.display = 'initial';
                speakerName.style.display = 'initial';
                modalContent.classList.remove('no-avatar');
            } else {
                dialogueQuestion.innerHTML = '';
                dialogueQuestion.style.display = 'none';

                modalSpeaker.style.display = 'none';
                speakerName.style.display = 'none';
                modalContent.classList.add('no-avatar');
            }

            dialogueOptions.innerHTML = "";

            for (let answer of currentDialogue.answers) {
                const hasCondition = 'condition' in answer;

                if (!hasCondition || (answer.condition === 'garland' && hasGarland) || (answer.condition === 'ball' && hasBalls.length > 0)) {
                    const button = document.createElement('button');
                    button.className = 'dialogue-btn';
                    button.innerHTML = answer.text;
                    button.style.display = 'block';
                    dialogueOptions.appendChild(button);

                    button.addEventListener("click", () => {
                        currentDialogue = answer.next;

                        addDialogue();
                    });
                }
            }

            if (currentDialogue.answers.length == 0) {
                const button = document.createElement('button');
                button.className = 'close-btn';
                button.innerHTML = '&times;';
                button.id = 'closeModal';
                document.getElementById('modalContent').appendChild(button);

                button.addEventListener("click", () => {
                    cutsceneModal.style.display = 'none';
                    button.remove();
                });
            }

            if (currentDialogue.callback) currentDialogue.callback();
        }
        
        // Move character to new position with animation
        async function moveS(targetRow, targetCol) {
            // Calculate path (simple straight line for this implementation)
            const path = calculatePath(s.row, s.col, targetRow, targetCol);

            if (!path) {
                getAlert('–¢–∞–∫ –ø—Ä–æ–π—Ç–∏ –Ω–µ–ª—å–∑—è!');
                return;
            }
            
            // Animate movement along the path
            await animateMovement(path);
        }

        function makePathGraph(startRow, startCol) {
            let paths = new Array(rowsCount).fill(0).map(() => new Array(colsCount).fill(null));

            paths[startRow][startCol] = 'root';

            let unvisited = new Array(rowsCount).fill(0).map(() => new Array(colsCount).fill(true));

            let currentCells = [{r: startRow, c: startCol}];
            unvisited[startRow][startCol] = false;

            while (currentCells.length > 0) {
                const first = currentCells[0];

                const neighbors = [
                    {r: first.r, c: first.c - 1},
                    {r: first.r, c: first.c + 1},
                    {r: first.r - 1, c: first.c},
                    {r: first.r + 1, c: first.c}
                ];

                for (let neighbor of neighbors) {
                    // cell exists and unvisited
                    if (neighbor.r >= 0 && neighbor.r < rowsCount && neighbor.c >= 0 && neighbor.c < colsCount && unvisited[neighbor.r][neighbor.c]) {

                        // cell taken by someone
                        const isObject = objects.some(obj => obj.row === neighbor.r && obj.col === neighbor.c);
                        const isBird = neighbor.r === bird.row && neighbor.c === bird.col;
                        const isOleg = neighbor.r === oleg.row && neighbor.c === oleg.col;

                        if (!isObject && !isBird && !isOleg) {
                            paths[neighbor.r][neighbor.c] = {r: first.r, c: first.c};
                            currentCells.push(neighbor);
                        }
                        
                        unvisited[neighbor.r][neighbor.c] = false;
                    }
                }

                currentCells.shift();
            }

            return paths;
        }
        
        // Calculate path from current position to target
        function calculatePath(startRow, startCol, targetRow, targetCol) {
            const paths = makePathGraph(startRow, startCol);

            if (paths[targetRow][targetCol] === null) {
                return false;
            }

            const path = [];
            let currentRow = targetRow;
            let currentCol = targetCol;
            
            while (paths[currentRow][currentCol] != 'root') {
                path.unshift({ row: currentRow, col: currentCol });

                const parent = paths[currentRow][currentCol];
                currentRow = parent.r;
                currentCol = parent.c;
            }
            
            return path;
        }
        
        // Animate movement along the path
        async function animateMovement(path) {
            for (let cell of path) {
                if (currentSceneInd === 1 && (!birdAppeared) && (cell.row === 1)) {
                    bird.row = 0;
                    bird.col = 0;
                    updatePosition(bird);

                    birdAppeared = true;

                    startCutscene(birdAppearance);

                    break;
                } else if (currentSceneInd === 2 && (!olegAppeared) && (cell.row === 1)) {
                    olegIsMoving = false;
                    startCutscene(olegAppearance);

                    break;
                }
                if (oleg.row === cell.row && oleg.col === cell.col) {
                    const newPath = calculatePath(s.row, s.col, path[path.length - 1].row, path[path.length - 1].col);

                    if (!newPath) {
                        return;
                    }

                    await animateMovement(newPath);

                    return;
                }

                s.row = cell.row;
                s.col = cell.col;
                updatePosition(s);

                await sleep(150);

                if (oleg.row === s.row && Math.abs(oleg.col - s.col) === 1 || oleg.col === s.col && Math.abs(oleg.row - s.row) === 1) {
                    olegIsMoving = false;

                    if (recognizedOleg) {
                        startCutscene(youFoundOleg);
                    } else {
                        startCutscene(olegFoundYou);
                    }

                    return;
                }
            }
        }

        async function moveOleg() {
            setTimeout(async () => {
                olegIsMoving = true;
                while (olegIsMoving) {
                    let newRow = oleg.row;
                    let newCol = oleg.col;

                    const dir = Math.floor(Math.random() * 4);
                    switch (dir) {
                        case 0:
                            if (oleg.row != 0) {
                                newRow--;
                            }
                            break;
                        case 1:
                            if (oleg.col != colsCount - 1) {
                                newCol++;
                            }
                            break;
                        case 2:
                            if (oleg.row != rowsCount - 1) {
                                newRow++;
                            }
                            break;
                        case 3:
                            if (oleg.col != 0) {
                                newCol--;
                            }
                            break;
                    }

                    const isObject = objects.some(obj => obj.row === newRow && obj.col === newCol);
                    const isS = newRow === s.row && newCol === s.col;

                    if (!isObject && !isS) {
                        oleg.row = newRow;
                        oleg.col = newCol;
                        updatePosition(oleg);
                    }

                    await sleep(600);

                    if (olegIsMoving) {
                        if (oleg.row === s.row && Math.abs(oleg.col - s.col) === 1 || oleg.col === s.col && Math.abs(oleg.row - s.row) === 1) {
                            olegIsMoving = false;

                            if (recognizedOleg) {
                                startCutscene(youFoundOleg);
                            } else {
                                startCutscene(olegFoundYou);
                            }
                        }
                    }
                }
            }, 5000);
        }

        function endGame(ending) {
            document.getElementById('inventory-screen').style.display = 'none';

            switch (ending) {
                case 'bad_gave_up':
                    document.getElementById('gameContainer').innerHTML = '<p>–£–≤—ã, —Ç—ã –æ—Å—Ç–∞–ª—Å—è –≤ –ß—É–º–Ω–æ–º —Ñ–æ—Ä—Ç–µ, —Ç–∞–∫ –∏ –Ω–µ –ø–æ–±–µ–¥–∏–≤ –ü—Ç–∏—Ü—É. –ú–æ–∂–µ—Ç, –ø–æ–ø—Ä–æ–±—É–µ—à—å –µ—â–µ —Ä–∞–∑?</p>';
                    break;
                case 'bad_decided_to_stay':
                    document.getElementById('gameContainer').innerHTML = '<div><p>–£–≤—ã, —Ç—ã –æ—Å—Ç–∞–ª—Å—è –≤ –ß—É–º–Ω–æ–º —Ñ–æ—Ä—Ç–µ. –ü—Ç–∏—Ü–∞ –∏—Å—á–µ–∑, –Ω–æ –∫—Ç–æ –∑–Ω–∞–µ—Ç, –∫–æ–≥–¥–∞ –æ–Ω –≤–µ—Ä–Ω–µ—Ç—Å—è –∏ –∫–∞–∫–∏–µ –ø–ª–∞–Ω—ã –±—É–¥–µ—Ç –≤–æ–ø–ª–æ—â–∞—Ç—å –≤ –∂–∏–∑–Ω—å... –ù–æ –≥–ª–∞–≤–Ω–æ–µ ‚Äî –û–ª–µ–≥ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –° –Ω–∏–º –Ω–∏—á–µ–≥–æ –Ω–µ –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—å—Å—è, –ø–æ–∫–∞ —Ç—ã –∑–∞–ø–µ—Ä—Ç –∑–¥–µ—Å—å.</p><p>–ü—Ä–∞–≤–¥–∞ –∂–µ?</p><p>–ü–æ–ø—Ä–æ–±—É–π –ø—Ä–æ–π—Ç–∏ –∏–≥—Ä—É –µ—â–µ —Ä–∞–∑.</p></div>';
                    break;
                case 'good_hug':
                    document.getElementById('gameContainer').innerHTML = '<div><p>–û–ª–µ–≥ –≤–µ–¥–µ—Ç —Ç–µ–±—è –Ω–∞—Ä—É–∂—É ‚Äî –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –¥–æ –≤—ã—Ö–æ–¥–∞ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –≤—Å–µ–≥–æ –Ω–∏—á–µ–≥–æ! –í–∞—Å –Ω–∏–∫—Ç–æ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç, –∞ —Å–Ω–∞—Ä—É–∂–∏ –∂–¥–µ—Ç –ª–æ–¥–∫–∞ —Å –¥—Ä—É–∑—å—è–º–∏ –û–ª–µ–≥–∞. –•—É–¥–æ—â–∞–≤—ã–π –ø–∞—Ä–µ–Ω—å —Å —è—Ä–∫–æ-—Å–∏–Ω–∏–º–∏ –≤–æ–ª–æ—Å–∞–º–∏ —á—Ç–æ-—Ç–æ –±–æ–ª—Ç–∞–µ—Ç –Ω–∞–¥ —É—Ö–æ–º, –ø–æ–∫–∞ –º–æ–ª—á–∞–ª–∏–≤—ã–π –≤–æ–¥–∏—Ç–µ–ª—å –∑–∞–≤–æ–¥–∏—Ç –º–æ—Ç–æ—Ä...</p><p>–¢—ã —É–∫–ª–∞–¥—ã–≤–∞–µ—à—å —Ç—è–∂–µ–ª—É—é –≥–æ–ª–æ–≤—É –û–ª–µ–≥—É –Ω–∞ –ø–ª–µ—á–æ. –í—Å–µ —Ö–æ—Ä–æ—à–æ. –¢—ã —Ç–µ–ø–µ—Ä—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p></div>';
                    break;
                case 'good_kiss':
                    document.getElementById('gameContainer').innerHTML = '<div><p>–û–ª–µ–≥ –≤–µ–¥–µ—Ç —Ç–µ–±—è –Ω–∞—Ä—É–∂—É ‚Äî –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –¥–æ –≤—ã—Ö–æ–¥–∞ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –≤—Å–µ–≥–æ –Ω–∏—á–µ–≥–æ! –í–∞—Å –Ω–∏–∫—Ç–æ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç, –∞ —Å–Ω–∞—Ä—É–∂–∏ –∂–¥–µ—Ç –ª–æ–¥–∫–∞ —Å –¥—Ä—É–∑—å—è–º–∏ –û–ª–µ–≥–∞. –•—É–¥–æ—â–∞–≤—ã–π –ø–∞—Ä–µ–Ω—å —Å —è—Ä–∫–æ-—Å–∏–Ω–∏–º–∏ –≤–æ–ª–æ—Å–∞–º–∏ —á—Ç–æ-—Ç–æ –±–æ–ª—Ç–∞–µ—Ç –Ω–∞–¥ —É—Ö–æ–º, –ø–æ–∫–∞ –º–æ–ª—á–∞–ª–∏–≤—ã–π –≤–æ–¥–∏—Ç–µ–ª—å –∑–∞–≤–æ–¥–∏—Ç –º–æ—Ç–æ—Ä...</p><p>–¢—ã —É–∫–ª–∞–¥—ã–≤–∞–µ—à—å —Ç—è–∂–µ–ª—É—é –≥–æ–ª–æ–≤—É –û–ª–µ–≥—É –Ω–∞ –ø–ª–µ—á–æ. –û–Ω –ø—Ä–∏–æ–±–Ω–∏–º–∞–µ—Ç —Ç–µ–±—è –∫—Ä–µ–ø—á–µ –∏, –∫–∞–∂–µ—Ç—Å—è, –æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π –ø–æ—Ü–µ–ª—É–π –Ω–∞ –º–∞–∫—É—à–∫–µ. –í—Å–µ —Ö–æ—Ä–æ—à–æ. –û–ª–µ–≥ —Å —Ç–æ–±–æ–π. –¢—ã —Ç–µ–ø–µ—Ä—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p></div>';
                    break;
                case 'good_decided_to_stay':
                    document.getElementById('gameContainer').innerHTML = '<div><p>–û–ª–µ–≥ –≤–µ–¥–µ—Ç —Ç–µ–±—è –Ω–∞—Ä—É–∂—É ‚Äî –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –¥–æ –≤—ã—Ö–æ–¥–∞ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –≤—Å–µ–≥–æ –Ω–∏—á–µ–≥–æ! –í–∞—Å –Ω–∏–∫—Ç–æ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç, –∞ —Å–Ω–∞—Ä—É–∂–∏ –∂–¥–µ—Ç –ª–æ–¥–∫–∞ —Å –¥—Ä—É–∑—å—è–º–∏ –û–ª–µ–≥–∞. –•—É–¥–æ—â–∞–≤—ã–π –ø–∞—Ä–µ–Ω—å —Å —è—Ä–∫–æ-—Å–∏–Ω–∏–º–∏ –≤–æ–ª–æ—Å–∞–º–∏ —á—Ç–æ-—Ç–æ –±–æ–ª—Ç–∞–µ—Ç –Ω–∞–¥ —É—Ö–æ–º, –ø–æ–∫–∞ –º–æ–ª—á–∞–ª–∏–≤—ã–π –≤–æ–¥–∏—Ç–µ–ª—å –∑–∞–≤–æ–¥–∏—Ç –º–æ—Ç–æ—Ä...</p><p>–¢—ã —Å –æ–ø–∞—Å–∫–æ–π —Å–º–æ—Ç—Ä–∏—à—å –≤ –≤–æ–¥—É: —á—Ç–æ –ø–æ–∫–∞–∂–µ—Ç —Ç–≤–æ–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ? –ù–æ –û–ª–µ–≥ –æ–±–Ω–∏–º–∞–µ—Ç —Ç–µ–±—è –∏, –∫–∞–∂–µ—Ç—Å—è, –æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–π –ø–æ—Ü–µ–ª—É–π –Ω–∞ –º–∞–∫—É—à–∫–µ. –í—Å–µ —Ö–æ—Ä–æ—à–æ. –û–Ω —Å —Ç–æ–±–æ–π. –¢—ã —Ç–µ–ø–µ—Ä—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.</p></div>';
                    break;
                case 'missedOleg':
                    document.getElementById('gameContainer').innerHTML = '<div><p>–¢—ã –∞–∫–∫—É—Ä–∞—Ç–Ω–æ, –Ω–∞ —Ü—ã–ø–æ—á–∫–∞—Ö, –∫—Ä–∞–¥–µ—à—å—Å—è –∫ –≤–æ–¥–µ... –ó–¥–µ—Å—å –ø–æ—á—Ç–∏ –Ω–∏–∫–æ–≥–æ, —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–π –ª–æ–¥–∫–µ —Å–∏–¥—è—Ç –∏ –∫—É—Ä—è—Ç –¥–≤–∞ –Ω–µ–∑–Ω–∞–∫–æ–º—ã—Ö —Ç–µ–±–µ —á–µ–ª–æ–≤–µ–∫–∞: –æ–¥–∏–Ω –æ–≥—Ä–æ–º–Ω—ã–π –∏ –ª—ã—Å—ã–π, –≤—Ç–æ—Ä–æ–π –ø–æ–º–µ–Ω—å—à–µ –∏ —Å —è—Ä–∫–æ-—Å–∏–Ω–∏–º–∏ –≤–æ–ª–æ—Å–∞–º–∏. –û—Ö—Ä–∞–Ω–Ω–∏–∫–∏, –Ω–∞–≤–µ—Ä–Ω–æ–µ.</p><p>–ù–æ —ç—Ç–æ —É–∂–µ –Ω–µ–≤–∞–∂–Ω–æ. –¢—ã –Ω–∞ —Å–≤–æ–±–æ–¥–µ, –∏ —É–≥–Ω–∞—Ç—å –æ–¥–Ω—É –∏–∑ –ª–æ–¥–æ–∫ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ—Å–ª–æ–∂–Ω–æ. –¢–µ–ø–µ—Ä—å —Ç—ã –º–æ–∂–µ—à—å –¥–µ–ª–∞—Ç—å –≤—Å–µ, —á—Ç–æ –∑–∞—Ö–æ—á–µ—à—å... –¢–æ–ª—å–∫–æ –≤–æ—Ç –∑–∞—Ö–æ—á–µ—à—å –ª–∏? –†–∞–¥–∏ –∫–æ–≥–æ? –ò —Å –∫–µ–º?</p><p>–ü–æ–ø—Ä–æ–±—É–π –ø—Ä–æ–π—Ç–∏ –∏–≥—Ä—É –µ—â–µ —Ä–∞–∑.</p></div>';
                    break;
            }
            document.getElementById('gameContainer').innerHTML += "<button onclick='window.location.reload()'>–°—ã–≥—Ä–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>";
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // Initialize the game
        initFirstScreen();
    });
    </script>
</body>
</html>